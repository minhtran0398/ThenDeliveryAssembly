@page "/my-order-list"
@inherits ShipperOrderListBase

@if(OrderList is null)
{
	<p>Loading...</p>
}
else if(OrderList.Count == 0)
{
	<p>No content to display</p>
}
else
{
	@foreach (var order in OrderList.OrderBy(e => e.Status))
	{
		<ul class="list-group">
			<li class="list-group-item d-flex justify-content-between align-items-center">
				@(order.ShippingAddress.FullName) - @(order.ShippingAddress.PhoneNumber) <br/>
				@(order.User.UserName) - @(order.User.PhoneNumber) <br/>
				@(order.ShippingAddress.AddressString)
				@if (order.Status == OrderStatus.ShipperAccept)
				{
					<button class="btn btn-sm btn-primary btn-pill"
							@onclick="async () => await HandleOnChangeOrderStatus(order)">
						Tiến hành giao hàng
					</button>
				}
				else if(order.Status == OrderStatus.Delivery)
				{
					<span class="badge badge-danger badge-pill">
						@order.Status.GetStringValue()
					</span>
				}
				else if(order.Status == OrderStatus.DeliverySuccess)
				{
					<span class="badge badge-success badge-pill">
						@order.Status.GetStringValue()
					</span>
				}
			</li>
		</ul>
	}
}
